{{ $.Scratch.Set "counter" 0 }}
{{ $.Scratch.Set "counter" (add ($.Scratch.Get "counter") 1) }}

<header>
  <div class="header-content">

    {{ $logoresource := resources.Get (.Site.Params.logoNormal | replaceRE "^/" "") }}

    <a href="/" class="logo" title="Terug naar hoofdpagina"><img src="{{ $logoresource | relURL }}" alt="NLUUG-logo" width="{{ $logoresource.Width }}" height="{{ $logoresource.Height }}"></a>

    <input type="checkbox" id="hamburger" aria-label="menu button">
    <label for="hamburger"><span></span></label>

    <nav aria-label="Main navigation">

       <ul class="menus menu">
           {{ $currentPage := . }}
           {{ range .Site.Menus.main }}
               {{ $.Scratch.Set "counter" (add ($.Scratch.Get "counter") 1) }}
             {{ if .Children }}
               <li>
                 <button type="button" aria-haspopup="true" aria-expanded="true" aria-controls="dropdown-{{ $.Scratch.Get "counter" }}">
                   <a href="{{ .URL }}">{{ .Name }}</a>
                 </button>
                 <ul class="dropdown" id="dropdown-{{ $.Scratch.Get "counter" }}">
                   {{ range .Children }}
                     <li><a href="{{ .URL }}">{{ .Name }}</a></li>
                   {{ end }}
                 </ul>
               </li>
             {{ else }}
             <li><button type="button" aria-haspopup="true" aria-expanded="true"><a href="{{ .URL }}">{{ .Name }}</a></button></li>
             {{ end }}
           {{ end }}
           <li><button type="button" aria-haspopup="false" aria-expanded="true"><a href="{{ relLangURL "/zoeken/"}}">{{ partial "show-svg-icon.html" (dict "context" . "icon" "magnifying-glass" "class" "shownormal") }}</a></button></li>
         </ul>
    </nav>
  </div>
</header>
